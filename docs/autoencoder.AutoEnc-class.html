<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>autoencoder.AutoEnc</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="autoencoder-module.html">Module&nbsp;autoencoder</a> ::
        Class&nbsp;AutoEnc
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="autoencoder.AutoEnc-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class AutoEnc</h1><p class="nomargin-top"><span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc">source&nbsp;code</a></span></p>
<p>Class representing the image autoencoders. It has all methods 
  necessary to operate with them.</p>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="__init__"></a><span class="summary-sig-name">__init__</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">json_configs</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="autoencoder.AutoEnc-class.html#_set_level_ops" class="summary-sig-name" onclick="show_private();">_set_level_ops</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">input_t</span>,
        <span class="summary-sig-arg">level</span>,
        <span class="summary-sig-arg">layers</span>=<span class="summary-sig-default">None</span>)</span><br />
      Instantiate series of operations that correspond to one level of 
      iteration.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc._set_level_ops">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tensorflow.pythone.keras.optimizer_v2.adam.Adam</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="autoencoder.AutoEnc-class.html#_inst_optimizer" class="summary-sig-name" onclick="show_private();">_inst_optimizer</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Function that creates a optimizer.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc._inst_optimizer">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="autoencoder.AutoEnc-class.html#_load_model" class="summary-sig-name" onclick="show_private();">_load_model</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Function to read a loaded model and prepare useful variables.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc._load_model">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="autoencoder.AutoEnc-class.html#_create_model" class="summary-sig-name" onclick="show_private();">_create_model</a>(<span class="summary-sig-arg">self</span>)</span><br />
      This method is responsible for prototyping the keras model.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc._create_model">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="autoencoder.AutoEnc-class.html#_log_vars_in_tsb" class="summary-sig-name" onclick="show_private();">_log_vars_in_tsb</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">inputs</span>,
        <span class="summary-sig-arg">outputs</span>,
        <span class="summary-sig-arg">latents</span>,
        <span class="summary-sig-arg">losses</span>,
        <span class="summary-sig-arg">grads</span>)</span><br />
      This method logs all useful variables in tensorboard when the 
      execution mode is training.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc._log_vars_in_tsb">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="autoencoder.AutoEnc-class.html#_save_data" class="summary-sig-name" onclick="show_private();">_save_data</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">outputs</span>,
        <span class="summary-sig-arg">latents</span>)</span><br />
      Function that saves model outputs and latents.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc._save_data">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">Dataset (Tensorflow object)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="autoencoder.AutoEnc-class.html#create_db_loder" class="summary-sig-name">create_db_loder</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">img_buffer</span>=<span class="summary-sig-default">5000</span>,
        <span class="summary-sig-arg">patch_buffer</span>=<span class="summary-sig-default">20000</span>)</span><br />
      Create a tensorflow database loader that will load batches from disk.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc.create_db_loder">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="autoencoder.AutoEnc-class.html#run" class="summary-sig-name">run</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">summ_period</span>=<span class="summary-sig-default">50</span>)</span><br />
      Function that executes the model based on the parameters passed.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc.run">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== STATIC METHODS ==================== -->
<a name="section-StaticMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Static Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-StaticMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">number</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="autoencoder.AutoEnc-class.html#calc_n_patches" class="summary-sig-name">calc_n_patches</a>(<span class="summary-sig-arg">img_ref</span>,
        <span class="summary-sig-arg">patch_size</span>)</span><br />
      Calculates the number of patches images with this height and width 
      considering the padding.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc.calc_n_patches">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tf.Tensor</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="autoencoder.AutoEnc-class.html#_load_img" class="summary-sig-name" onclick="show_private();">_load_img</a>(<span class="summary-sig-arg">filename</span>)</span><br />
      Auxiliary loader function to read valid images</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc._load_img">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">np.array</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="autoencoder.AutoEnc-class.html#_extract_patches" class="summary-sig-name" onclick="show_private();">_extract_patches</a>(<span class="summary-sig-arg">img</span>,
        <span class="summary-sig-arg">patch_s</span>)</span><br />
      Auxiliary loader function to extract patches from images</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc._extract_patches">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_clear_last_lines"></a><span class="summary-sig-name">_clear_last_lines</span>(<span class="summary-sig-arg">n</span>=<span class="summary-sig-default">1</span>)</span><br />
      Clear the last n lines in stdout</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc._clear_last_lines">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="_set_level_ops"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_set_level_ops</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">input_t</span>,
        <span class="sig-arg">level</span>,
        <span class="sig-arg">layers</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc._set_level_ops">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Instantiate series of operations that correspond to one level of 
  iteration. Already instantiated layers can be passed as argument.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>input_t</code></strong> (tf.Tensor) - Input tensor shape the model accepts. Shape has the information 
          of batch size, height, width and number of channels.</li>
        <li><strong class="pname"><code>level</code></strong> (int) - Number of residues to be considered.</li>
        <li><strong class="pname"><code>layers</code></strong> (list) - Keras layers already instantiated (recursive).</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>Returns two tensors and a list.
          <ol start="1">
            <li>
              The latent tensor corresponds to the shape of the latent 
              defined by the binarizer.
            </li>
            <li>
              The output tensor corresponds to the shape of the output 
              (must be the same of the input)
            </li>
            <li>
              The list contains two elements: the encoder and decoder Keras
              instantiated layers (using Enums). These layers are defined 
              in the json file.
            </li>
          </ol></dd>
  </dl>
</td></tr></table>
</div>
<a name="_inst_optimizer"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_inst_optimizer</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc._inst_optimizer">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Function that creates a optimizer.</p>
  <dl class="fields">
    <dt>Returns: tensorflow.pythone.keras.optimizer_v2.adam.Adam</dt>
        <dd>Returns the optimizer object instantiated. The learning rate will
          be as defined in the json file.</dd>
  </dl>
</td></tr></table>
</div>
<a name="_load_model"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_load_model</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc._load_model">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Function to read a loaded model and prepare useful variables. It 
  instantiates one optimizer for each one of the models (levels of 
  residues). The loss is the same for all the models.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_create_model"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_create_model</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc._create_model">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

This method is responsible for prototyping the keras model. Basically,
it does three things:
1. Instantiate the layers defined in the json file by calling
   L{_set_level_ops}.

2. Instantiate the loss and the optimizer defined.

3. Instantiate the Keras model (one for each level).

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_log_vars_in_tsb"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_log_vars_in_tsb</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">inputs</span>,
        <span class="sig-arg">outputs</span>,
        <span class="sig-arg">latents</span>,
        <span class="sig-arg">losses</span>,
        <span class="sig-arg">grads</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc._log_vars_in_tsb">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>This method logs all useful variables in tensorboard when the 
  execution mode is training. This method is called for each batch.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>inputs</code></strong> (list) - tf.Tensor corresponding to the input</li>
        <li><strong class="pname"><code>outputs</code></strong> (list) - tf.Tensor corresponding to model outputs</li>
        <li><strong class="pname"><code>latents</code></strong> (list) - tf.Tensor corresponding to model latents</li>
        <li><strong class="pname"><code>losses</code></strong> (list) - tf.Tensor corresponding to model loss</li>
        <li><strong class="pname"><code>grads</code></strong> (list) - tf.Tensor corresponding to model gradients</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_save_data"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_save_data</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">outputs</span>,
        <span class="sig-arg">latents</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc._save_data">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Function that saves model outputs and latents. This function uses <a 
  href="autoencoder.AutoEnc-class.html#calc_n_patches" 
  class="link">calc_n_patches</a> to know the number of patches that each 
  image generates. self.count_patches it's incremented for each batch and 
  represents the number of patches corresponding to the current image. 
  self.patches_ref it's a constant representing the number of patches that 
  the current image generates. When the while condition is True (enough 
  patches to reconstruct the image), the image is reconstructed from each 
  one of the reconstructed patches (model output) in self.curr_patches and 
  is saved to disk. Also, self.patches_ref it's updated to the next 
  image.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>outputs</code></strong> (list) - Each element is a tf.Tensor representing the reconstructed 
          patches. The shape is (N, H, W, C), where N is the number of 
          patches (maximum value is batch size) , H is the Height, W is the
          Width and C is the number of channels.</li>
        <li><strong class="pname"><code>latents</code></strong> (list) - Each element is a tf.Tensor representing the latents generated of
          each patch. The total number of distinct elements from the 
          tf.Tensor is 2 (binarized elements).</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="calc_n_patches"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">calc_n_patches</span>(<span class="sig-arg">img_ref</span>,
        <span class="sig-arg">patch_size</span>)</span>
    <br /><em class="fname">Static Method</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc.calc_n_patches">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Calculates the number of patches images with this height and width 
  considering the padding.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>img_ref</code></strong> (PosixPath) - Path of the image to be considered.</li>
        <li><strong class="pname"><code>patch_size</code></strong> (number) - Number representing the height and width of the patch.</li>
    </ul></dd>
    <dt>Returns: number</dt>
        <dd>number of patch_size patches that img_ref generates.</dd>
  </dl>
</td></tr></table>
</div>
<a name="_load_img"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_load_img</span>(<span class="sig-arg">filename</span>)</span>
    <br /><em class="fname">Static Method</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc._load_img">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Auxiliary loader function to read valid images</p>
  <dl class="fields">
    <dt>Returns: tf.Tensor</dt>
        <dd>img converted to tf.float32 dtype</dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@tf.function</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_extract_patches"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_extract_patches</span>(<span class="sig-arg">img</span>,
        <span class="sig-arg">patch_s</span>)</span>
    <br /><em class="fname">Static Method</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc._extract_patches">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Auxiliary loader function to extract patches from images</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>img</code></strong> (tf.Tensor) - Tensor representing the image</li>
    </ul></dd>
    <dt>Returns: np.array</dt>
        <dd>array containing the patches extracted from img</dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@tf.function</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="create_db_loder"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">create_db_loder</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">img_buffer</span>=<span class="sig-default">5000</span>,
        <span class="sig-arg">patch_buffer</span>=<span class="sig-default">20000</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc.create_db_loder">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Create a tensorflow database loader that will load batches from 
  disk.</p>
  <dl class="fields">
    <dt>Returns: Dataset (Tensorflow object)</dt>
        <dd>the iterable object containing the batches of patches.</dd>
  </dl>
</td></tr></table>
</div>
<a name="run"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">run</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">summ_period</span>=<span class="sig-default">50</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="autoencoder-pysrc.html#AutoEnc.run">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Function that executes the model based on the parameters passed. If 
  the execution mode is 'train' the model is saved to disk. Otherwise 
  outputs generated by the model are saved to disk.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>summ_period</code></strong> (int) - number of steps for each log in tensorboard</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1
    on Mon Sep 16 20:22:15 2019
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
